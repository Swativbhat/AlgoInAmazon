<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Case-Study3</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />

    <style>
      /*  import google fonts */
      @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Ubuntu:wght@400;500;700&display=swap");

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        text-decoration: none;
        scroll-behavior: smooth;
      }
      body {
        font-family: "Poppins", sans-serif;
        margin: 0;
        padding: 0;
        background-color: #121212;
        color: #fff;
      }

      /* navbar styling  */
      .navbar {
        position: fixed;
        width: 100%;
        z-index: 999;
        padding: 30px 0;
        font-family: "Ubuntu", sans-serif;
        transition: all 0.3s ease;
        background-color: rgba(18, 18, 18, 0.9);
        backdrop-filter: blur(10px);
        /* margin-left: 100px; */
      }

      .navbar.sticky {
        padding: 15px 0;
        background: rgba(30, 30, 30, 0.95);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      }

      .navbar .max-width {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 50px;
      }

      .navbar .logo a {
        color: #fff;
        font-size: 35px;
        font-weight: 600;
        letter-spacing: 1px;
        margin-left: 150px;
      }

      .navbar .logo a span {
        color: #bb86fc;
        transition: all 0.3s ease;
      }

      .navbar.sticky .logo a span {
        color: #bb86fc;
      }

      .navbar .menu li {
        list-style: none;
        display: inline-block;
      }

      .navbar .menu li a {
        display: block;
        color: #e0e0e0;
        font-size: 18px;
        font-weight: 500;
        margin-left: 25px;
        transition: color 0.3s ease;
        position: relative;
      }

      .navbar .menu li a:hover {
        color: #bb86fc;
      }

      .navbar .menu li a::after {
        content: "";
        position: absolute;
        width: 0;
        height: 2px;
        background: #bb86fc;
        bottom: -5px;
        left: 0;
        transition: width 0.3s ease;
      }

      .navbar .menu li a:hover::after {
        width: 100%;
      }

      .navbar.sticky .menu li a:hover {
        color: #bb86fc;
      }
      .case-study-container {
        max-width: 900px;
        margin: 0 auto 60px auto;
        padding: 160px 20px 0 20px; /* Top padding accounts for fixed navbar height */
      }

      .case-study-title {
        font-size: 32px;
        color: #bb86fc;
        margin-bottom: 20px;
        font-family: "Ubuntu", sans-serif;
        /* margin-left: 150px; */
      }

      .case-study-image {
        width: 100%;
        border-radius: 12px;
        margin-bottom: 30px;
      }

      .case-study-text {
        font-size: 18px;
        line-height: 1.8;
        color: #e0e0e0;
        margin-bottom: 25px;
      }

      .code-block {
        background-color: #1e1e1e;
        color: #d4d4d4;
        padding: 20px;
        border-radius: 10px;
        overflow-x: auto;
        font-family: monospace;
        font-size: 15px;
        margin-bottom: 30px;
      }

      .case-study-navigation {
        display: flex;
        justify-content: space-between;
        margin-bottom: 40px;
        margin-top: 40px;
      }

      .nav-link {
        color: #bb86fc;
        font-weight: 500;
        transition: color 0.3s ease;
      }

      .nav-link:hover {
        color: #ffffff;
      }

      .references {
        margin-top: 40px;
      }

      .reference-title {
        font-size: 20px;
        color: #bb86fc;
        margin-bottom: 10px;
      }

      .reference-list {
        list-style: disc;
        padding-left: 20px;
        color: #e0e0e0;
      }

      .reference-link {
        color: #bb86fc;
        text-decoration: underline;
      }

      .reference-link:hover {
        color: #ffffff;
      }
      .complexity-card {
        background-color: #1e1e1e;
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 30px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
      }

      .card-title {
        font-size: 20px;
        color: #bb86fc;
        margin-bottom: 15px;
      }

      .complexity-table {
        width: 100%;
        border-collapse: collapse;
        color: #e0e0e0;
        font-size: 16px;
      }

      .complexity-table th,
      .complexity-table td {
        padding: 12px 15px;
        border: 1px solid #444;
        text-align: left;
      }

      .complexity-table th {
        background-color: #2a2a2a;
        color: #ffffff;
      }

      .complexity-table tr:nth-child(even) {
        background-color: #2e2e2e;
      }
      .quote-card {
        background-color: #1e1e1e;
        border-left: 5px solid #bb86fc;
        padding: 25px 30px;
        margin: 60px auto;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
        max-width: 800px;
        text-align: center;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .quote-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 6px 25px rgba(187, 134, 252, 0.3);
      }

      .quote-text {
        font-size: 22px;
        font-style: italic;
        color: #e0e0e0;
        line-height: 1.7;
        position: relative;
      }

      .quote-text i {
        color: #bb86fc;
        font-size: 20px;
        margin-right: 10px;
      }

      .quote-author {
        font-size: 16px;
        color: #bb86fc;
        font-weight: 500;
        margin-top: 15px;
      }
    </style>
  </head>
  <body>
    <nav class="navbar">
      <div class="max-width">
        <div class="logo">
          <a href="#"><span>AlgoInAmazon</span></a>
        </div>
        <ul class="menu">
          <li><a href="../index.html" class="menu-btn">Home</a></li>
          <li>
            <a href="../domain/#case-studies-section" class="menu-btn"
              >Case studies</a
            >
          </li>
          <li><a href="../index.html/#contact" class="menu-btn">Details</a></li>
        </ul>
        <div class="menu-btn">
          <i class="fas fa-bars"></i>
        </div>
      </div>
    </nav>

    <section id="case-studies-section" class="case-study-container">
      <h2 class="case-study-title">
        <i class="fas fa-briefcase"></i>Applying Discounts and Coupons
      </h2>
      <h2 class="case-study-title">
        <i class="fas fa-check-circle"></i> 1.Red-Black Trees
      </h2>

      <p class="case-study-text">
        Red-Black Trees can efficiently manage discounts and promotions in
        e-commerce platforms. By organizing discount codes along with their
        respective values and expiration dates in a balanced tree structure,
        they enable quick insertion, deletion, and retrieval of valid codes.
      </p>
      <img
        src="../images/case-4.jpg"
        alt="Case study visual"
        class="case-study-image"
        height="350px"
      />

      <h2>Code:</h2>
      <pre class="code-block"><code>
#include &lt;iostream&gt;
using namespace std;

enum Color {RED, BLACK};

struct Node {
    int data;
    bool color;
    Node *left, *right, *parent;

    Node(int data) {
        this-&gt;data = data;
        left = right = parent = nullptr;
        this-&gt;color = RED;
    }
};

class RBTree {
private:
    Node *root;

protected:
    void rotateLeft(Node *&amp;, Node *&amp;);
    void rotateRight(Node *&amp;, Node *&amp;);
    void fixInsert(Node *&amp;, Node *&amp;);
    void fixDelete(Node *&amp;, Node *);
    void inorderHelper(Node *node);
    void RBTransplant(Node *u, Node *v);
    Node* treeMinimum(Node *node);

public:
    RBTree() { root = nullptr; }
    void insert(const int &amp;n);
    void deleteNode(const int &amp;data);
    Node* search(const int &amp;data);
    void inorder() { inorderHelper(root); }
};

void RBTree::inorderHelper(Node *root) {
    if (root == nullptr)
        return;
    inorderHelper(root-&gt;left);
    cout &lt;&lt; root-&gt;data &lt;&lt; " ";
    inorderHelper(root-&gt;right);
}

Node* RBTree::search(const int &amp;data) {
    Node *current = root;
    while (current != nullptr) {
        if (data == current-&gt;data)
            return current;
        else if (data &lt; current-&gt;data)
            current = current-&gt;left;
        else
            current = current-&gt;right;
    }
    return nullptr;
}

void RBTree::rotateLeft(Node *&amp;root, Node *&amp;pt) {
    Node *pt_right = pt-&gt;right;
    pt-&gt;right = pt_right-&gt;left;

    if (pt-&gt;right != nullptr)
        pt-&gt;right-&gt;parent = pt;

    pt_right-&gt;parent = pt-&gt;parent;

    if (pt-&gt;parent == nullptr)
        root = pt_right;
    else if (pt == pt-&gt;parent-&gt;left)
        pt-&gt;parent-&gt;left = pt_right;
    else
        pt-&gt;parent-&gt;right = pt_right;

    pt_right-&gt;left = pt;
    pt-&gt;parent = pt_right;
}

void RBTree::rotateRight(Node *&amp;root, Node *&amp;pt) {
    Node *pt_left = pt-&gt;left;
    pt-&gt;left = pt_left-&gt;right;

    if (pt-&gt;left != nullptr)
        pt-&gt;left-&gt;parent = pt;

    pt_left-&gt;parent = pt-&gt;parent;

    if (pt-&gt;parent == nullptr)
        root = pt_left;
    else if (pt == pt-&gt;parent-&gt;left)
        pt-&gt;parent-&gt;left = pt_left;
    else
        pt-&gt;parent-&gt;right = pt_left;

    pt_left-&gt;right = pt;
    pt-&gt;parent = pt_left;
}

void RBTree::fixInsert(Node *&amp;root, Node *&amp;pt) {
    Node *parent_pt = nullptr;
    Node *grand_parent_pt = nullptr;

    while ((pt != root) &amp;&amp; (pt-&gt;color != BLACK) &amp;&amp; (pt-&gt;parent-&gt;color == RED)) {
        parent_pt = pt-&gt;parent;
        grand_parent_pt = pt-&gt;parent-&gt;parent;

        if (parent_pt == grand_parent_pt-&gt;left) {
            Node *uncle_pt = grand_parent_pt-&gt;right;
            if (uncle_pt != nullptr &amp;&amp; uncle_pt-&gt;color == RED) {
                grand_parent_pt-&gt;color = RED;
                parent_pt-&gt;color = BLACK;
                uncle_pt-&gt;color = BLACK;
                pt = grand_parent_pt;
            } else {
                if (pt == parent_pt-&gt;right) {
                    rotateLeft(root, parent_pt);
                    pt = parent_pt;
                    parent_pt = pt-&gt;parent;
                }
                rotateRight(root, grand_parent_pt);
                swap(parent_pt-&gt;color, grand_parent_pt-&gt;color);
                pt = parent_pt;
            }
        } else {
            Node *uncle_pt = grand_parent_pt-&gt;left;
            if (uncle_pt != nullptr &amp;&amp; uncle_pt-&gt;color == RED) {
                grand_parent_pt-&gt;color = RED;
                parent_pt-&gt;color = BLACK;
                uncle_pt-&gt;color = BLACK;
                pt = grand_parent_pt;
            } else {
                if (pt == parent_pt-&gt;left) {
                    rotateRight(root, parent_pt);
                    pt = parent_pt;
                    parent_pt = pt-&gt;parent;
                }
                rotateLeft(root, grand_parent_pt);
                swap(parent_pt-&gt;color, grand_parent_pt-&gt;color);
                pt = parent_pt;
            }
        }
    }
    root-&gt;color = BLACK;
}

Node* BSTInsert(Node* root, Node* pt) {
    if (root == nullptr)
        return pt;
    if (pt-&gt;data &lt; root-&gt;data) {
        root-&gt;left = BSTInsert(root-&gt;left, pt);
        root-&gt;left-&gt;parent = root;
    } else if (pt-&gt;data &gt; root-&gt;data) {
        root-&gt;right = BSTInsert(root-&gt;right, pt);
        root-&gt;right-&gt;parent = root;
    }
    return root;
}

void RBTree::insert(const int &amp;data) {
    Node *pt = new Node(data);
    root = BSTInsert(root, pt);
    fixInsert(root, pt);
}

void RBTree::deleteNode(const int &amp;data) {
    Node *v = search(data);
    if (v == nullptr)
        return;
    Node *u;
    Node *x = v;
    bool originalColor = x-&gt;color;

    if (v-&gt;left == nullptr) {
        u = v-&gt;right;
        RBTransplant(v, v-&gt;right);
    } else if (v-&gt;right == nullptr) {
        u = v-&gt;left;
        RBTransplant(v, v-&gt;left);
    } else {
        x = treeMinimum(v-&gt;right);
        originalColor = x-&gt;color;
        u = x-&gt;right;
        if (x-&gt;parent == v) {
            if (u) u-&gt;parent = x;
        } else {
            RBTransplant(x, x-&gt;right);
            x-&gt;right = v-&gt;right;
            x-&gt;right-&gt;parent = x;
        }
        RBTransplant(v, x);
        x-&gt;left = v-&gt;left;
        x-&gt;left-&gt;parent = x;
        x-&gt;color = v-&gt;color;
    }
    delete v;
    if (originalColor == BLACK)
        fixDelete(root, u);
}

void RBTree::fixDelete(Node *&amp;root, Node *x) {
    while (x != root &amp;&amp; (x == nullptr || x-&gt;color == BLACK)) {
        if (x == x-&gt;parent-&gt;left) {
            Node *w = x-&gt;parent-&gt;right;
            if (w-&gt;color == RED) {
                w-&gt;color = BLACK;
                x-&gt;parent-&gt;color = RED;
                rotateLeft(root, x-&gt;parent);
                w = x-&gt;parent-&gt;right;
            }
            if ((w-&gt;left == nullptr || w-&gt;left-&gt;color == BLACK) &amp;&amp;
                (w-&gt;right == nullptr || w-&gt;right-&gt;color == BLACK)) {
                w-&gt;color = RED;
                x = x-&gt;parent;
            } else {
                if (w-&gt;right == nullptr || w-&gt;right-&gt;color == BLACK) {
                    if (w-&gt;left)
                        w-&gt;left-&gt;color = BLACK;
                    w-&gt;color = RED;
                    rotateRight(root, w);
                    w = x-&gt;parent-&gt;right;
                }
                w-&gt;color = x-&gt;parent-&gt;color;
                x-&gt;parent-&gt;color = BLACK;
                if (w-&gt;right)
                    w-&gt;right-&gt;color = BLACK;
                rotateLeft(root, x-&gt;parent);
                x = root;
            }
        } else {
            Node *w = x-&gt;parent-&gt;left;
            if (w-&gt;color == RED) {
                w-&gt;color = BLACK;
                x-&gt;parent-&gt;color = RED;
                rotateRight(root, x-&gt;parent);
                w = x-&gt;parent-&gt;left;
            }
            if ((w-&gt;left == nullptr || w-&gt;left-&gt;color == BLACK) &amp;&amp;
                (w-&gt;right == nullptr || w-&gt;right-&gt;color == BLACK)) {
                w-&gt;color = RED;
                x = x-&gt;parent;
            } else {
                if (w-&gt;left == nullptr || w-&gt;left-&gt;color == BLACK) {
                    if (w-&gt;right)
                        w-&gt;right-&gt;color = BLACK;
                    w-&gt;color = RED;
                    rotateLeft(root, w);
                    w = x-&gt;parent-&gt;left;
                }
                w-&gt;color = x-&gt;parent-&gt;color;
                x-&gt;parent-&gt;color = BLACK;
                if (w-&gt;left)
                    w-&gt;left-&gt;color = BLACK;
                rotateRight(root, x-&gt;parent);
                x = root;
            }
        }
    }
    if (x)
        x-&gt;color = BLACK;
}

void RBTree::RBTransplant(Node *u, Node *v) {
    if (u-&gt;parent == nullptr)
        root = v;
    else if (u == u-&gt;parent-&gt;left)
        u-&gt;parent-&gt;left = v;
    else
        u-&gt;parent-&gt;right = v;
    if (v)
        v-&gt;parent = u-&gt;parent;
}

Node* RBTree::treeMinimum(Node *node) {
    while (node-&gt;left != nullptr)
        node = node-&gt;left;
    return node;
}

int main() {
    RBTree tree;
    tree.insert(10);
    tree.insert(20);
    tree.insert(30);
    tree.insert(40);
    tree.insert(50);
    tree.insert(25);

    cout &lt;&lt; "Inorder traversal of created tree\n";
    tree.inorder();

    int key = 30;
    tree.deleteNode(key);

    cout &lt;&lt; "\nInorder traversal after deletion of " &lt;&lt; key &lt;&lt; endl;
    tree.inorder();

    int searchKey = 25;
    Node* searchNode = tree.search(searchKey);
    if (searchNode != nullptr)
        cout &lt;&lt; "\nFound node with key " &lt;&lt; searchKey &lt;&lt; endl;
    else
        cout &lt;&lt; "\nNode with key " &lt;&lt; searchKey &lt;&lt; " not found" &lt;&lt; endl;

    return 0;
}
  </code></pre>
      <div class="complexity-card">
        <h3 class="card-title">Time Complexity</h3>
        <table class="complexity-table">
          <thead>
            <tr>
              <th>Function</th>
              <th>Amortized</th>
              <th>Worst case</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Search</td>
              <td>O(log n)</td>
              <td>O(log n)</td>
            </tr>
            <tr>
              <td>Insert</td>
              <td>O(log n)</td>
              <td>O(log n)</td>
            </tr>
            <tr>
              <td>Delete</td>
              <td>O(log n)</td>
              <td>O(log n)</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="complexity-card">
        <h3 class="card-title">Space Complexity</h3>
        <table class="complexity-table">
          <tr>
            <td>Space</td>
            <td>O(n)</td>
          </tr>
        </table>
      </div>
      <div class="references">
        <h3 class="reference-title">References</h3>
        <ul class="reference-list">
          <li>
            <a
              href="https://en.wikipedia.org/wiki/Red%E2%80%93black_tree"
              target="_blank"
              class="reference-link"
              >https://en.wikipedia.org/wiki/Red%E2%80%93black_tree</a
            >
          </li>
          <li>
            <a
              href="https://www.geeksforgeeks.org/introduction-to-red-black-tree/"
              target="_blank"
              class="reference-link"
              >https://www.geeksforgeeks.org/introduction-to-red-black-tree/</a
            >
          </li>
        </ul>
      </div>

      <div class="case-study-navigation">
        <a href="case-3.html" class="nav-link">Previous Case Study</a>
        <a href="case-5.html" class="nav-link">Next Case Study →</a>
      </div>
    </section>
  </body>
</html>
